<?xml version="1.0" encoding="UTF-8"?>
<mapper namespace="com.bluedot.electrochemistry.dao.base.BaseMapper">
    <!--    用户模块相关-->
    <select id="listUser" resultType="com.bluedot.electrochemistry.pojo.domain.User">
        select * from user limit #{currentPage},#{pageSize}
    </select>
    <select id="queryUserByUsername" resultType="com.bluedot.electrochemistry.pojo.domain.User">
        select * from user where username = #{username};
    </select>
    <select id="queryUserByEmail" resultType="com.bluedot.electrochemistry.pojo.domain.User">
        select * from user where email = #{email};
    </select>
    <!--超级管理员相关-->
    <!--查询管理员相关-->
    <select id="getAdmins" resultType="com.bluedot.electrochemistry.pojo.domain.User">
        select * from user
    </select>
    <select id="getAdminByQueryCondition" resultType="com.bluedot.electrochemistry.pojo.domain.User">
        select * from user where #{queryCondition}=#{queryValue} limit #{pageStart},#{pageSize}
    </select>
    <select id="getAdminCount" resultType="java.lang.Long">
        select count(*) from user
    </select>
    <select id="getAdminCountByQueryCondition" resultType="java.lang.Long">
        select count(*) from user where #{queryCondition}=#{queryValue}
    </select>
    <!--查询备份文件相关-->
    <select id="getBackupFiles" resultType="com.bluedot.electrochemistry.pojo.domain.File">
        select * from file limit #{pageStart},#{pageSize}
    </select>
    <select id="getBackupFileCount" resultType="java.lang.Long">
        select count(*) from file
    </select>
    <select id="getFileByQueryCondition" resultType="com.bluedot.electrochemistry.pojo.domain.File">
        select * from file where #{queryCondition}=#{queryValue} limit #{pageStart},#{pageSize}
    </select>
    <select id="getFileCountByQueryCondition" resultType="java.lang.Long">
        select count(*) from file where #{queryCondition}=#{queryValue}
    </select>
    <!--查询角色相关-->
    <select id="getRoles" resultType="com.bluedot.electrochemistry.pojo.domain.Role">
        select * from role limit #{pageStart},#{pageSize}
    </select>
    <select id="getRoleCount" resultType="java.lang.Long">
        select count(*) from role
    </select>
    <select id="getRoleByQueryCondition" resultType="com.bluedot.electrochemistry.pojo.domain.Role">
        select * from role where #{queryCondition}=#{queryValue} limit #{pageStart},#{pageSize}
    </select>
    <select id="getRoleCountByQueryCondition" resultType="java.lang.Long">
        select count(*) from role where #{queryCondition}=#{queryValue}
    </select>

    <!--算法相关-->
    <select id="getAlgorithms" resultType="com.bluedot.electrochemistry.pojo.domain.Algorithm">
        select * from t_algorithm limit #{pageStart},#{pageSize}
    </select>
    <select id="getAlgorithmsCount" resultType="java.lang.Long">
        select count(*) from t_algorithm
    </select>
    <select id="getFileById" resultType="com.bluedot.electrochemistry.pojo.domain.File">
        select * from file where id = #{id};
    </select>
    <select id="listOperations" resultType="com.bluedot.electrochemistry.pojo.domain.Operation">
        select * from operation where type = #{type}
    </select>

    <select id="listFiles" resultType="com.bluedot.electrochemistry.pojo.domain.File">
        select * from file where type = #{type} and status = #{status} and owner = #{username} limit #{pageStart},#{pageSize};
    </select>


</mapper>
